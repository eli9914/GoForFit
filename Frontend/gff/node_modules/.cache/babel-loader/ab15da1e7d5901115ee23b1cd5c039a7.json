{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\eli99\\\\OneDrive\\\\\\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD\\\\GitHub\\\\PM2022_TEAM_23\\\\Frontend\\\\gff\\\\src\\\\components\\\\forms\\\\AdminPost.js\";\nimport React from \"react\";\nimport './Form.css';\nimport axios from \"axios\";\nimport UserContext from \"../../UserContext\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AdminPost extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: '',\n      to: 'General Forum',\n      sent: false\n    };\n  }\n\n  async submit(event, content, to) {\n    event.preventDefault();\n    const {\n      user,\n      isAuthenticated,\n      LogIn,\n      LogOut\n    } = this.context;\n\n    if (this.state.content != '') {\n      await axios.post(\"http://localhost:8080/messages/saveMessage\", {\n        from: user.userName,\n        content: this.state.content,\n        to: this.state.to\n      }).then(this.setState({\n        content: '',\n        sent: true\n      }));\n    }\n  }\n\n  render() {\n    const {\n      user,\n      isAuthenticated,\n      LogIn,\n      LogOut\n    } = this.context;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages-form-content\",\n      children: [this.state.sent && /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"../generalForum\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 38\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"messageForm\",\n        onSubmit: e => this.submit(e, this.state.content, this.state.to),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"New Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"content\",\n            className: \"form-label\",\n            children: \"Content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.state.content,\n            onChange: e => this.setState({\n              content: e.target.value\n            }),\n            type: \"text\",\n            id: \"content\",\n            name: \"content\",\n            className: \"form-input-content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"form-input-btn\",\n          type: \"submit\",\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nAdminPost.contextType = UserContext;\nexport default AdminPost;","map":{"version":3,"sources":["C:/Users/eli99/OneDrive/מסמכים/GitHub/PM2022_TEAM_23/Frontend/gff/src/components/forms/AdminPost.js"],"names":["React","axios","UserContext","Navigate","AdminPost","Component","constructor","props","state","content","to","sent","submit","event","preventDefault","user","isAuthenticated","LogIn","LogOut","context","post","from","userName","then","setState","render","e","target","value","contextType"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport './Form.css';\nimport axios from \"axios\";\nimport UserContext from \"../../UserContext\";\nimport { Navigate } from \"react-router-dom\";\n\n\nclass AdminPost extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.state = \n        {\n            content: '',\n            to: 'General Forum',\n            sent: false\n        }\n    }\n\nasync submit(event,content,to) {\n    event.preventDefault();\n    const {user, isAuthenticated, LogIn, LogOut} = this.context;\n    if(this.state.content!=''){\n        await axios.post(\"http://localhost:8080/messages/saveMessage\",{\n            from:user.userName,\n            content:this.state.content,\n            to:this.state.to\n        })\n        .then(\n            this.setState({\n                content:'',\n                sent:true\n        })\n        );   \n}}\n\n    render(){\n        const {user, isAuthenticated, LogIn, LogOut} = this.context;\n        return (\n            <div className='messages-form-content'>\n                {this.state.sent && (<Navigate to=\"../generalForum\" replace={true} />)}\n            <form className=\"messageForm\" onSubmit={(e)=>this.submit(e,this.state.content,this.state.to)}>\n                 <h1>\n                   New Post\n                </h1>\n                <div className=\"form-inputs\">\n                    <label htmlFor=\"content\" \n                    className=\"form-label\">\n                        Content\n                    </label>\n                    <input\n                    value={this.state.content} onChange={(e)=>this.setState({content:e.target.value})} type=\"text\"\n                        id='content'\n                         name='content'\n                         className='form-input-content'\n                    />\n                </div>\n                <button className=\"form-input-btn\"\n                    type='submit'>\n                    Post\n                </button>\n            </form>\n            </div>\n        );\n    }\n}\n\nAdminPost.contextType=UserContext;\n\nexport default AdminPost;"]},"metadata":{},"sourceType":"module"}