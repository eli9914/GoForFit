{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\eli99\\\\OneDrive\\\\\\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD\\\\GitHub\\\\PM2022_TEAM_23\\\\Frontend\\\\gff\\\\src\\\\components\\\\forms\\\\Report.js\";\nimport React from \"react\";\nimport './Form.css';\nimport axios from \"axios\";\nimport UserContext from \"../../UserContext\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Report extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Coach: [],\n      content: 'System Bug',\n      otherContent: '',\n      to: 'Admin',\n      sent: false\n    };\n  }\n\n  FetchCoaches() {\n    const {\n      user,\n      isAuthenticated,\n      LogIn,\n      LogOut\n    } = this.context;\n    axios.get(\"http://localhost:8080/coach/getCoach\").then(res => {\n      res.data.map(coach => user.sport === coach.sportKind ? this.setState({\n        Coach: coach\n      }) : null);\n    });\n  }\n\n  componentDidMount() {\n    this.FetchCoaches();\n  }\n\n  async submit(event, content, to) {\n    event.preventDefault();\n    const {\n      user,\n      isAuthenticated,\n      LogIn,\n      LogOut\n    } = this.context;\n\n    if (this.state.content != '') {\n      if (this.state.content !== \"Other\") {\n        await axios.post(\"http://localhost:8080/messages/saveMessage\", {\n          from: user.userName,\n          content: this.state.content,\n          to: this.state.to\n        }).then(this.setState({\n          content: '',\n          sent: true\n        }));\n      } else {\n        await axios.post(\"http://localhost:8080/messages/saveMessage\", {\n          from: user.userName,\n          content: this.state.otherContent,\n          to: this.state.to\n        }).then(this.setState({\n          content: '',\n          sent: true\n        }));\n      }\n    }\n  }\n\n  render() {\n    const {\n      user,\n      isAuthenticated,\n      LogIn,\n      LogOut\n    } = this.context;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reportToAdmin-form-content\",\n      children: [this.state.sent && /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"../\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 38\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"reportToAdmin\",\n        onSubmit: e => this.submit(e, this.state.content, \"Admin\"),\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Report on:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"to\",\n            className: \"form-label\",\n            children: \"To\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: this.state.to,\n            onChange: e => this.setState({\n              to: e.target.value\n            }),\n            type: \"text\",\n            id: \"content\",\n            name: \"content\",\n            className: \"form-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Admin\",\n              children: \"Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: this.state.Coach.userName,\n              children: this.state.Coach.userName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: this.state.content,\n            onChange: e => this.setState({\n              content: e.target.value\n            }),\n            type: \"text\",\n            id: \"content\",\n            name: \"content\",\n            className: \"form-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"System Bug\",\n              children: \"System Bug\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Unable to watch videos\",\n              children: \"Unable to watch videos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Unable to send message\",\n              children: \"Unable to send message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Unable to post to my coach forum\",\n              children: \"Unable to post to my coach forum\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Unable to see outstandings page\",\n              children: \"Unable to see outstandings page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Unable to edit my profile\",\n              children: \"Unable to edit my profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Unable to see common injuies\",\n              children: \"Unable to see common injuies\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Other\",\n              children: \"Other\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 21\n          }, this), this.state.content === \"Other\" && /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.state.otherContent,\n            onChange: e => this.setState({\n              otherContent: e.target.value\n            }),\n            type: \"text\",\n            id: \"content1\",\n            name: \"content1\",\n            className: \"form-input-content1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 55\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"form-input-btn\",\n          type: \"submit\",\n          children: \"Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nReport.contextType = UserContext;\nexport default Report;","map":{"version":3,"sources":["C:/Users/eli99/OneDrive/מסמכים/GitHub/PM2022_TEAM_23/Frontend/gff/src/components/forms/Report.js"],"names":["React","axios","UserContext","Navigate","Report","Component","constructor","props","state","Coach","content","otherContent","to","sent","FetchCoaches","user","isAuthenticated","LogIn","LogOut","context","get","then","res","data","map","coach","sport","sportKind","setState","componentDidMount","submit","event","preventDefault","post","from","userName","render","e","target","value","contextType"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport './Form.css';\r\nimport axios from \"axios\";\r\nimport UserContext from \"../../UserContext\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\n\r\nclass Report extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = \r\n        {\r\n            Coach:[],\r\n            content: 'System Bug',\r\n            otherContent:'',\r\n            to:'Admin',\r\n            sent: false\r\n        }\r\n    }\r\n\r\n    FetchCoaches() {\r\n        const {user, isAuthenticated, LogIn, LogOut} = this.context;\r\n        axios.get(\"http://localhost:8080/coach/getCoach\")\r\n        .then((res) => {\r\n            res.data.map(coach => (\r\n                user.sport===coach.sportKind?this.setState({\r\n                    Coach:coach,\r\n                }):null\r\n            ))\r\n        });\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n        this.FetchCoaches()\r\n    }\r\n\r\n    async submit(event,content,to) {\r\n        event.preventDefault();\r\n        const {user, isAuthenticated, LogIn, LogOut} = this.context;\r\n        if(this.state.content!=''){\r\n            if(this.state.content!==\"Other\")\r\n            {\r\n                await axios.post(\"http://localhost:8080/messages/saveMessage\",{\r\n                    from:user.userName,\r\n                    content:this.state.content,\r\n                    to:this.state.to\r\n                })\r\n                .then(\r\n                    this.setState({\r\n                        content:'',\r\n                        sent:true\r\n                })\r\n                ); \r\n            }\r\n            else\r\n            {\r\n                await axios.post(\"http://localhost:8080/messages/saveMessage\",{\r\n                    from:user.userName,\r\n                    content:this.state.otherContent,\r\n                    to:this.state.to\r\n                })\r\n                .then(\r\n                    this.setState({\r\n                        content:'',\r\n                        sent:true\r\n                })\r\n                ); \r\n            }  \r\n    }}\r\n\r\n    render(){\r\n        const {user, isAuthenticated, LogIn, LogOut} = this.context;\r\n        return (\r\n            <div className='reportToAdmin-form-content'>\r\n                {this.state.sent && (<Navigate to=\"../\" replace={true} />)}\r\n            <form className=\"reportToAdmin\" onSubmit={(e)=>this.submit(e,this.state.content,\"Admin\")}>\r\n                 <h1>\r\n                   Report on:\r\n                </h1>\r\n                <div className=\"form-inputs\">\r\n                    <label htmlFor=\"to\" \r\n                    className=\"form-label\">\r\n                        To\r\n                    </label>\r\n                    <select\r\n                    value={this.state.to} onChange={(e)=>this.setState({to:e.target.value})} type=\"text\"\r\n                        id='content'\r\n                         name='content'\r\n                         className='form-input'\r\n                    >\r\n                        <option value=\"Admin\">Admin</option>\r\n                        <option value={this.state.Coach.userName}>{this.state.Coach.userName}</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-inputs\">\r\n                    <select\r\n                    value={this.state.content} onChange={(e)=>this.setState({content:e.target.value})} type=\"text\"\r\n                        id='content'\r\n                         name='content'\r\n                         className='form-input'\r\n                    >\r\n                        <option value=\"System Bug\">System Bug</option>\r\n                        <option value=\"Unable to watch videos\">Unable to watch videos</option>\r\n                        <option value=\"Unable to send message\">Unable to send message</option>\r\n                        <option value=\"Unable to post to my coach forum\">Unable to post to my coach forum</option>\r\n                        <option value=\"Unable to see outstandings page\">Unable to see outstandings page</option>\r\n                        <option value=\"Unable to edit my profile\">Unable to edit my profile</option>\r\n                        <option value=\"Unable to see common injuies\">Unable to see common injuies</option>\r\n                        <option value=\"Other\">Other</option>\r\n                    </select>\r\n                    {this.state.content===\"Other\" &&  <input\r\n                    value={this.state.otherContent} onChange={(e)=>this.setState({otherContent:e.target.value})} type=\"text\"\r\n                        id='content1'\r\n                         name='content1'\r\n                         className='form-input-content1'\r\n                    />}\r\n                </div>\r\n                <button className=\"form-input-btn\"\r\n                    type='submit'>\r\n                    Report\r\n                </button>\r\n            </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nReport.contextType=UserContext;\r\n\r\nexport default Report;"]},"metadata":{},"sourceType":"module"}